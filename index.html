<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Amna Hassan">
<meta name="author" content="Angel Alcala Ruiz">
<meta name="author" content="Ese Ekrebe">
<meta name="author" content="Garima Chaudhary">
<meta name="author" content="Giovonna Brendanna">
<meta name="author" content="Nameeta Tiwari">
<meta name="author" content="Nidhi Nigam">
<meta name="dcterms.date" content="2024-01-23">

<title>Heart Failure Prediction</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="index_files/libs/clipboard/clipboard.min.js"></script>
<script src="index_files/libs/quarto-html/quarto.js"></script>
<script src="index_files/libs/quarto-html/popper.min.js"></script>
<script src="index_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="index_files/libs/quarto-html/anchor.min.js"></script>
<link href="index_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="index_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="index_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="index_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction"><span class="header-section-number">1</span> Introduction</a>
  <ul class="collapse">
  <li><a href="#preliminary-information" id="toc-preliminary-information" class="nav-link" data-scroll-target="#preliminary-information"><span class="header-section-number">1.1</span> Preliminary Information</a></li>
  <li><a href="#about-the-data" id="toc-about-the-data" class="nav-link" data-scroll-target="#about-the-data"><span class="header-section-number">1.2</span> About The Data</a></li>
  <li><a href="#packages-and-dependencies" id="toc-packages-and-dependencies" class="nav-link" data-scroll-target="#packages-and-dependencies"><span class="header-section-number">1.3</span> Packages and Dependencies</a></li>
  <li><a href="#color-palette" id="toc-color-palette" class="nav-link" data-scroll-target="#color-palette"><span class="header-section-number">1.4</span> Color Palette</a></li>
  </ul></li>
  <li><a href="#data-preparation" id="toc-data-preparation" class="nav-link" data-scroll-target="#data-preparation"><span class="header-section-number">2</span> Data Preparation</a>
  <ul class="collapse">
  <li><a href="#load-our-data" id="toc-load-our-data" class="nav-link" data-scroll-target="#load-our-data"><span class="header-section-number">2.1</span> Load our data</a></li>
  <li><a href="#data-cleaning" id="toc-data-cleaning" class="nav-link" data-scroll-target="#data-cleaning"><span class="header-section-number">2.2</span> Data Cleaning</a></li>
  </ul></li>
  <li><a href="#analysis" id="toc-analysis" class="nav-link" data-scroll-target="#analysis"><span class="header-section-number">3</span> Analysis</a>
  <ul class="collapse">
  <li><a href="#the-data" id="toc-the-data" class="nav-link" data-scroll-target="#the-data"><span class="header-section-number">3.1</span> The data</a>
  <ul class="collapse">
  <li><a href="#histogram" id="toc-histogram" class="nav-link" data-scroll-target="#histogram"><span class="header-section-number">3.1.1</span> Histogram</a></li>
  </ul></li>
  <li><a href="#correlation" id="toc-correlation" class="nav-link" data-scroll-target="#correlation"><span class="header-section-number">3.2</span> Correlation</a></li>
  <li><a href="#univariant-analysis" id="toc-univariant-analysis" class="nav-link" data-scroll-target="#univariant-analysis"><span class="header-section-number">3.3</span> Univariant Analysis</a>
  <ul class="collapse">
  <li><a href="#age-and-creatinine-phosphokinase" id="toc-age-and-creatinine-phosphokinase" class="nav-link" data-scroll-target="#age-and-creatinine-phosphokinase"><span class="header-section-number">3.3.1</span> Age and Creatinine Phosphokinase</a></li>
  <li><a href="#age-and-serum-creatinine" id="toc-age-and-serum-creatinine" class="nav-link" data-scroll-target="#age-and-serum-creatinine"><span class="header-section-number">3.3.2</span> Age and Serum Creatinine</a></li>
  <li><a href="#age-and-serum-sodium" id="toc-age-and-serum-sodium" class="nav-link" data-scroll-target="#age-and-serum-sodium"><span class="header-section-number">3.3.3</span> Age and Serum Sodium</a></li>
  </ul></li>
  <li><a href="#multivarient-analysis" id="toc-multivarient-analysis" class="nav-link" data-scroll-target="#multivarient-analysis"><span class="header-section-number">3.4</span> Multivarient Analysis</a>
  <ul class="collapse">
  <li><a href="#mortality-and-survival-among-smokers" id="toc-mortality-and-survival-among-smokers" class="nav-link" data-scroll-target="#mortality-and-survival-among-smokers"><span class="header-section-number">3.4.1</span> Mortality and Survival Among Smokers</a></li>
  <li><a href="#mortality-and-survival-diabetes-and-high-blood-pressure-patients" id="toc-mortality-and-survival-diabetes-and-high-blood-pressure-patients" class="nav-link" data-scroll-target="#mortality-and-survival-diabetes-and-high-blood-pressure-patients"><span class="header-section-number">3.4.2</span> Mortality and Survival Diabetes and High Blood Pressure Patients</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#machine-learning" id="toc-machine-learning" class="nav-link" data-scroll-target="#machine-learning"><span class="header-section-number">4</span> Machine Learning</a>
  <ul class="collapse">
  <li><a href="#logistic-regression" id="toc-logistic-regression" class="nav-link" data-scroll-target="#logistic-regression"><span class="header-section-number">4.1</span> Logistic Regression</a></li>
  <li><a href="#support-vector-machine" id="toc-support-vector-machine" class="nav-link" data-scroll-target="#support-vector-machine"><span class="header-section-number">4.2</span> Support Vector Machine</a></li>
  <li><a href="#knearestneighbor" id="toc-knearestneighbor" class="nav-link" data-scroll-target="#knearestneighbor"><span class="header-section-number">4.3</span> KNearestNeighbor</a></li>
  <li><a href="#decision-tree-classifier" id="toc-decision-tree-classifier" class="nav-link" data-scroll-target="#decision-tree-classifier"><span class="header-section-number">4.4</span> Decision Tree Classifier</a></li>
  <li><a href="#random-forest-classifier" id="toc-random-forest-classifier" class="nav-link" data-scroll-target="#random-forest-classifier"><span class="header-section-number">4.5</span> Random Forest Classifier</a></li>
  </ul></li>
  <li><a href="#acknowledgements" id="toc-acknowledgements" class="nav-link" data-scroll-target="#acknowledgements"><span class="header-section-number">5</span> Acknowledgements</a></li>
  </ul>
</nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Heart Failure Prediction</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Authors</div>
    <div class="quarto-title-meta-contents">
             <p>Amna Hassan </p>
             <p>Angel Alcala Ruiz </p>
             <p>Ese Ekrebe </p>
             <p>Garima Chaudhary </p>
             <p>Giovonna Brendanna </p>
             <p>Nameeta Tiwari </p>
             <p>Nidhi Nigam </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">January 23, 2024</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="introduction" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Introduction</h1>
<section id="preliminary-information" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="preliminary-information"><span class="header-section-number">1.1</span> Preliminary Information</h2>
<p>Cardiovascular diseases (CVDs) are the <strong>number 1 cause of death globally</strong>, taking an estimated 17.9 million lives each year, which accounts for <strong>31% of all deaths worlwide</strong>. Heart failure is a common event caused by CVDs and this dataset contains 12 features that can be used to predict mortality by heart failure.</p>
<p>Most cardiovascular diseases can be prevented by addressing behavioural risk factors such as tobacco use, unhealthy diet and obesity, physical inactivity and harmful use of alcohol using population-wide strategies.</p>
<p>People with cardiovascular disease or who are at high cardiovascular risk (due to the presence of one or more risk factors such as hypertension, diabetes, hyperlipidaemia or already established disease) need <strong>early detection</strong> and management wherein a machine learning model can be of great help.</p>
<p><a href="https://www.kaggle.com/datasets/andrewmvd/heart-failure-clinical-data">https://www.kaggle.com/datasets/andrewmvd/heart-failure-clinical-data</a></p>
</section>
<section id="about-the-data" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="about-the-data"><span class="header-section-number">1.2</span> About The Data</h2>
<table class="table">
<colgroup>
<col style="width: 33%">
<col style="width: 33%">
<col style="width: 33%">
</colgroup>
<thead>
<tr class="header">
<th>Column</th>
<th>Units</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Anaemia</td>
<td>Boolean</td>
<td>Indicates decrease of red blood cells or hemoglobin.</td>
</tr>
<tr class="even">
<td>Creatinine Phosphokinase</td>
<td>mcg/L</td>
<td>It is an enzyme present in the heart, whose elevated levels in the bloodstream indicate muscle or cardiac damage.</td>
</tr>
<tr class="odd">
<td>Diabetes</td>
<td>Boolean</td>
<td>It is a chronic medical condition characterized by elevated blood sugar levels resulting from insufficient insulin production or the body’s inability to effectively use insulin.</td>
</tr>
<tr class="even">
<td>Ejection Fraction</td>
<td>Percentage</td>
<td>It is a measure of the percentage of blood that the heart’s left ventricle pumps out with each contraction, providing an assessment of the heart’s pumping efficiency; a lower EF may indicate heart dysfunction or failure.</td>
</tr>
<tr class="odd">
<td>Blood Pressure</td>
<td>Boolean</td>
<td>Blood pressure is the force exerted by circulating blood against the walls of arteries.</td>
</tr>
<tr class="even">
<td>Platelets</td>
<td>kiloplatelets/mL</td>
<td>platelets help prevent excessive bleeding by forming blood clots at the site of vascular injury.</td>
</tr>
<tr class="odd">
<td>Serum Creatinine</td>
<td>mg/dL</td>
<td>Serum creatinine is a waste product generated by muscle metabolism that is filtered out of the blood by the kidneys.</td>
</tr>
<tr class="even">
<td>Serum Sodium</td>
<td>mEq/L</td>
<td>Serum sodium refers to the concentration of sodium ions in the liquid component of blood.</td>
</tr>
<tr class="odd">
<td>Sex</td>
<td>Binary (0 for women, 1 for men)</td>
<td>The sex of the patient.</td>
</tr>
<tr class="even">
<td>Smoking</td>
<td>Boolean</td>
<td>If the patient smokes actively or ever did in past.</td>
</tr>
<tr class="odd">
<td>Time</td>
<td>Time in months</td>
<td>It is the time of the patient’s follow-up visit for the disease in months.</td>
</tr>
</tbody>
</table>
</section>
<section id="packages-and-dependencies" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="packages-and-dependencies"><span class="header-section-number">1.3</span> Packages and Dependencies</h2>
<div class="cell" data-execution_count="61">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.express <span class="im">as</span> px</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.model_selection <span class="im">import</span> train_test_split</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.preprocessing <span class="im">import</span> StandardScaler</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.linear_model <span class="im">import</span> LogisticRegression</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.svm <span class="im">import</span> SVC</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.neighbors <span class="im">import</span> KNeighborsClassifier</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.tree <span class="im">import</span> DecisionTreeClassifier</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.naive_bayes <span class="im">import</span> GaussianNB</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.ensemble <span class="im">import</span> RandomForestClassifier</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.metrics <span class="im">import</span> accuracy_score</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> tensorflow <span class="im">as</span> tf</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="color-palette" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="color-palette"><span class="header-section-number">1.4</span> Color Palette</h2>
<div class="cell" data-execution_count="99">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>light_gray_1 <span class="op">=</span> <span class="st">"#E5E5E5"</span> </span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>pink <span class="op">=</span> <span class="st">"#EB84AC"</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>red <span class="op">=</span> <span class="st">"#f12215"</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>blue <span class="op">=</span> <span class="st">"#15e4f1"</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>cmap <span class="op">=</span> <span class="st">"coolwarm"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="data-preparation" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Data Preparation</h1>
<section id="load-our-data" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="load-our-data"><span class="header-section-number">2.1</span> Load our data</h2>
<div class="cell" data-execution_count="64">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="st">"Data/heart_failure_clinical_records_dataset.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="65">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="65">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">age</th>
<th data-quarto-table-cell-role="th">anaemia</th>
<th data-quarto-table-cell-role="th">creatinine_phosphokinase</th>
<th data-quarto-table-cell-role="th">diabetes</th>
<th data-quarto-table-cell-role="th">ejection_fraction</th>
<th data-quarto-table-cell-role="th">high_blood_pressure</th>
<th data-quarto-table-cell-role="th">platelets</th>
<th data-quarto-table-cell-role="th">serum_creatinine</th>
<th data-quarto-table-cell-role="th">serum_sodium</th>
<th data-quarto-table-cell-role="th">sex</th>
<th data-quarto-table-cell-role="th">smoking</th>
<th data-quarto-table-cell-role="th">time</th>
<th data-quarto-table-cell-role="th">DEATH_EVENT</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>75.0</td>
<td>0</td>
<td>582</td>
<td>0</td>
<td>20</td>
<td>1</td>
<td>265000.00</td>
<td>1.9</td>
<td>130</td>
<td>1</td>
<td>0</td>
<td>4</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>55.0</td>
<td>0</td>
<td>7861</td>
<td>0</td>
<td>38</td>
<td>0</td>
<td>263358.03</td>
<td>1.1</td>
<td>136</td>
<td>1</td>
<td>0</td>
<td>6</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>65.0</td>
<td>0</td>
<td>146</td>
<td>0</td>
<td>20</td>
<td>0</td>
<td>162000.00</td>
<td>1.3</td>
<td>129</td>
<td>1</td>
<td>1</td>
<td>7</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>50.0</td>
<td>1</td>
<td>111</td>
<td>0</td>
<td>20</td>
<td>0</td>
<td>210000.00</td>
<td>1.9</td>
<td>137</td>
<td>1</td>
<td>0</td>
<td>7</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>65.0</td>
<td>1</td>
<td>160</td>
<td>1</td>
<td>20</td>
<td>0</td>
<td>327000.00</td>
<td>2.7</td>
<td>116</td>
<td>0</td>
<td>0</td>
<td>8</td>
<td>1</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell" data-execution_count="66">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>df.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 299 entries, 0 to 298
Data columns (total 13 columns):
 #   Column                    Non-Null Count  Dtype  
---  ------                    --------------  -----  
 0   age                       299 non-null    float64
 1   anaemia                   299 non-null    int64  
 2   creatinine_phosphokinase  299 non-null    int64  
 3   diabetes                  299 non-null    int64  
 4   ejection_fraction         299 non-null    int64  
 5   high_blood_pressure       299 non-null    int64  
 6   platelets                 299 non-null    float64
 7   serum_creatinine          299 non-null    float64
 8   serum_sodium              299 non-null    int64  
 9   sex                       299 non-null    int64  
 10  smoking                   299 non-null    int64  
 11  time                      299 non-null    int64  
 12  DEATH_EVENT               299 non-null    int64  
dtypes: float64(3), int64(10)
memory usage: 30.5 KB</code></pre>
</div>
</div>
</section>
<section id="data-cleaning" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="data-cleaning"><span class="header-section-number">2.2</span> Data Cleaning</h2>
<div class="cell" data-execution_count="67">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Cleaning the data: removing blank lines and null values</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Checking for null values in the dataset</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>null_values <span class="op">=</span> df.isnull().<span class="bu">sum</span>()</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>null_values</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="67">
<pre><code>age                         0
anaemia                     0
creatinine_phosphokinase    0
diabetes                    0
ejection_fraction           0
high_blood_pressure         0
platelets                   0
serum_creatinine            0
serum_sodium                0
sex                         0
smoking                     0
time                        0
DEATH_EVENT                 0
dtype: int64</code></pre>
</div>
</div>
<div class="cell" data-execution_count="68">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Checking if there are any blank lines (all values are NaN)</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>blank_lines <span class="op">=</span> df.isna().<span class="bu">all</span>(axis <span class="op">=</span> <span class="dv">1</span>).<span class="bu">sum</span>()</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>blank_lines</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="68">
<pre><code>0</code></pre>
</div>
</div>
<div class="cell" data-execution_count="69">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Removing any rows with null values</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>df_cleaned <span class="op">=</span> df.dropna()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="70">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Displaying the null value count and blank line count, and the first few rows of the cleaned dataframe</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>null_values, blank_lines, df_cleaned.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="70">
<pre><code>(age                         0
 anaemia                     0
 creatinine_phosphokinase    0
 diabetes                    0
 ejection_fraction           0
 high_blood_pressure         0
 platelets                   0
 serum_creatinine            0
 serum_sodium                0
 sex                         0
 smoking                     0
 time                        0
 DEATH_EVENT                 0
 dtype: int64,
 0,
     age  anaemia  creatinine_phosphokinase  diabetes  ejection_fraction  \
 0  75.0        0                       582         0                 20   
 1  55.0        0                      7861         0                 38   
 2  65.0        0                       146         0                 20   
 3  50.0        1                       111         0                 20   
 4  65.0        1                       160         1                 20   
 
    high_blood_pressure  platelets  serum_creatinine  serum_sodium  sex  \
 0                    1  265000.00               1.9           130    1   
 1                    0  263358.03               1.1           136    1   
 2                    0  162000.00               1.3           129    1   
 3                    0  210000.00               1.9           137    1   
 4                    0  327000.00               2.7           116    0   
 
    smoking  time  DEATH_EVENT  
 0        0     4            1  
 1        0     6            1  
 2        1     7            1  
 3        0     7            1  
 4        0     8            1  )</code></pre>
</div>
</div>
<div class="cell" data-execution_count="72">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>df_cleaned <span class="op">=</span> df_cleaned.rename(columns<span class="op">=</span>{<span class="st">'DEATH_EVENT'</span>: <span class="st">'death_event'</span>})</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>df_cleaned.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="72">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">age</th>
<th data-quarto-table-cell-role="th">anaemia</th>
<th data-quarto-table-cell-role="th">creatinine_phosphokinase</th>
<th data-quarto-table-cell-role="th">diabetes</th>
<th data-quarto-table-cell-role="th">ejection_fraction</th>
<th data-quarto-table-cell-role="th">high_blood_pressure</th>
<th data-quarto-table-cell-role="th">platelets</th>
<th data-quarto-table-cell-role="th">serum_creatinine</th>
<th data-quarto-table-cell-role="th">serum_sodium</th>
<th data-quarto-table-cell-role="th">sex</th>
<th data-quarto-table-cell-role="th">smoking</th>
<th data-quarto-table-cell-role="th">time</th>
<th data-quarto-table-cell-role="th">death_event</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>75.0</td>
<td>0</td>
<td>582</td>
<td>0</td>
<td>20</td>
<td>1</td>
<td>265000.00</td>
<td>1.9</td>
<td>130</td>
<td>1</td>
<td>0</td>
<td>4</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>55.0</td>
<td>0</td>
<td>7861</td>
<td>0</td>
<td>38</td>
<td>0</td>
<td>263358.03</td>
<td>1.1</td>
<td>136</td>
<td>1</td>
<td>0</td>
<td>6</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>65.0</td>
<td>0</td>
<td>146</td>
<td>0</td>
<td>20</td>
<td>0</td>
<td>162000.00</td>
<td>1.3</td>
<td>129</td>
<td>1</td>
<td>1</td>
<td>7</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>50.0</td>
<td>1</td>
<td>111</td>
<td>0</td>
<td>20</td>
<td>0</td>
<td>210000.00</td>
<td>1.9</td>
<td>137</td>
<td>1</td>
<td>0</td>
<td>7</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>65.0</td>
<td>1</td>
<td>160</td>
<td>1</td>
<td>20</td>
<td>0</td>
<td>327000.00</td>
<td>2.7</td>
<td>116</td>
<td>0</td>
<td>0</td>
<td>8</td>
<td>1</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
</section>
<section id="analysis" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Analysis</h1>
<section id="the-data" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="the-data"><span class="header-section-number">3.1</span> The data</h2>
<section id="histogram" class="level3" data-number="3.1.1">
<h3 data-number="3.1.1" class="anchored" data-anchor-id="histogram"><span class="header-section-number">3.1.1</span> Histogram</h3>
<div class="cell" data-execution_count="76">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>Figure1, Axes1 <span class="op">=</span> plt.subplots()</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>Axes1.hist(df[<span class="st">"age"</span>],</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>           bins <span class="op">=</span> [<span class="dv">40</span>, <span class="dv">50</span>, <span class="dv">60</span>, <span class="dv">70</span>, <span class="dv">80</span>, <span class="dv">90</span>, <span class="dv">100</span>],</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>           edgecolor <span class="op">=</span> <span class="st">"black"</span>,</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>           color <span class="op">=</span> pink)</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Theme for plot </span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>Axes1.spines[<span class="st">"top"</span>].set_visible(<span class="va">False</span>)</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>Axes1.spines[<span class="st">"right"</span>].set_visible(<span class="va">False</span>)</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>Axes1.yaxis.set_tick_params(labelsize <span class="op">=</span> <span class="dv">12</span>)</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>Axes1.xaxis.set_tick_params(labelsize <span class="op">=</span> <span class="dv">12</span>)</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>plt.title(label <span class="op">=</span> <span class="st">"Histogram"</span>,</span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>          loc <span class="op">=</span> <span class="st">"left"</span>,</span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>          fontsize <span class="op">=</span> <span class="dv">24</span>)</span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>plt.ylabel(ylabel <span class="op">=</span> <span class="st">"Count"</span>,</span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>           fontsize <span class="op">=</span> <span class="dv">16</span>)</span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>plt.xlabel(xlabel <span class="op">=</span> <span class="st">"Age Range"</span>,</span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>           fontsize <span class="op">=</span> <span class="dv">16</span>)</span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a>plt.savefig(fname <span class="op">=</span> <span class="st">"./Images/Figure1"</span>,</span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a>            dpi <span class="op">=</span> <span class="dv">400</span>)</span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-26"><a href="#cb15-26" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="index_files/figure-html/cell-12-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
</section>
<section id="correlation" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="correlation"><span class="header-section-number">3.2</span> Correlation</h2>
<div class="cell" data-execution_count="14">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Finding correlation of our target column</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>df_cleaned.corrwith(df_cleaned[<span class="st">'death_event'</span>]).<span class="bu">abs</span>().sort_values(ascending<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="14">
<pre><code>death_event                 1.000000
time                        0.526964
serum_creatinine            0.294278
ejection_fraction           0.268603
age                         0.253729
serum_sodium                0.195204
high_blood_pressure         0.079351
anaemia                     0.066270
creatinine_phosphokinase    0.062728
platelets                   0.049139
smoking                     0.012623
sex                         0.004316
diabetes                    0.001943
dtype: float64</code></pre>
</div>
</div>
<div class="cell" data-scrolled="true" data-execution_count="15">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Data visualization of correlation</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>corr_matrix <span class="op">=</span> df_cleaned.corr().<span class="bu">abs</span>()</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>corr_matrix.style.background_gradient(cmap<span class="op">=</span><span class="st">'coolwarm'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="15">
<style type="text/css">
#T_96336_row0_col0, #T_96336_row1_col1, #T_96336_row2_col2, #T_96336_row3_col3, #T_96336_row4_col4, #T_96336_row5_col5, #T_96336_row6_col6, #T_96336_row7_col7, #T_96336_row8_col8, #T_96336_row9_col9, #T_96336_row10_col10, #T_96336_row11_col11, #T_96336_row12_col12 {
  background-color: #b40426;
  color: #f1f1f1;
}
#T_96336_row0_col1, #T_96336_row2_col9, #T_96336_row5_col0, #T_96336_row5_col12, #T_96336_row9_col2, #T_96336_row12_col5 {
  background-color: #516ddb;
  color: #f1f1f1;
}
#T_96336_row0_col2, #T_96336_row8_col11 {
  background-color: #536edd;
  color: #f1f1f1;
}
#T_96336_row0_col3, #T_96336_row5_col9, #T_96336_row9_col5 {
  background-color: #5977e3;
  color: #f1f1f1;
}
#T_96336_row0_col4, #T_96336_row2_col8, #T_96336_row6_col8, #T_96336_row8_col2 {
  background-color: #4b64d5;
  color: #f1f1f1;
}
#T_96336_row0_col5, #T_96336_row8_col3 {
  background-color: #5572df;
  color: #f1f1f1;
}
#T_96336_row0_col6, #T_96336_row0_col8, #T_96336_row2_col4, #T_96336_row3_col7, #T_96336_row4_col0, #T_96336_row4_col2, #T_96336_row5_col6, #T_96336_row7_col1 {
  background-color: #465ecf;
  color: #f1f1f1;
}
#T_96336_row0_col7, #T_96336_row3_col9, #T_96336_row9_col3 {
  background-color: #6b8df0;
  color: #f1f1f1;
}
#T_96336_row0_col9, #T_96336_row2_col12, #T_96336_row4_col6, #T_96336_row12_col2 {
  background-color: #4c66d6;
  color: #f1f1f1;
}
#T_96336_row0_col10, #T_96336_row4_col1, #T_96336_row10_col6 {
  background-color: #3f53c6;
  color: #f1f1f1;
}
#T_96336_row0_col11 {
  background-color: #81a4fb;
  color: #f1f1f1;
}
#T_96336_row0_col12 {
  background-color: #8db0fe;
  color: #000000;
}
#T_96336_row1_col0 {
  background-color: #506bda;
  color: #f1f1f1;
}
#T_96336_row1_col2, #T_96336_row5_col11, #T_96336_row12_col8 {
  background-color: #779af7;
  color: #f1f1f1;
}
#T_96336_row1_col3, #T_96336_row2_col7, #T_96336_row3_col5, #T_96336_row5_col3, #T_96336_row10_col12, #T_96336_row11_col9, #T_96336_row12_col10 {
  background-color: #3d50c3;
  color: #f1f1f1;
}
#T_96336_row1_col4, #T_96336_row3_col11, #T_96336_row5_col1, #T_96336_row6_col10, #T_96336_row7_col10 {
  background-color: #4257c9;
  color: #f1f1f1;
}
#T_96336_row1_col5, #T_96336_row1_col6, #T_96336_row4_col11, #T_96336_row5_col8, #T_96336_row6_col0, #T_96336_row6_col1, #T_96336_row8_col5, #T_96336_row11_col3 {
  background-color: #445acc;
  color: #f1f1f1;
}
#T_96336_row1_col7, #T_96336_row6_col12, #T_96336_row9_col0 {
  background-color: #4961d2;
  color: #f1f1f1;
}
#T_96336_row1_col8, #T_96336_row6_col7, #T_96336_row11_col4, #T_96336_row12_col6 {
  background-color: #455cce;
  color: #f1f1f1;
}
#T_96336_row1_col9, #T_96336_row6_col3 {
  background-color: #5673e0;
  color: #f1f1f1;
}
#T_96336_row1_col10 {
  background-color: #5a78e4;
  color: #f1f1f1;
}
#T_96336_row1_col11 {
  background-color: #6485ec;
  color: #f1f1f1;
}
#T_96336_row1_col12, #T_96336_row2_col0, #T_96336_row2_col5, #T_96336_row4_col10, #T_96336_row10_col4 {
  background-color: #4e68d8;
  color: #f1f1f1;
}
#T_96336_row2_col1 {
  background-color: #7597f6;
  color: #f1f1f1;
}
#T_96336_row2_col3, #T_96336_row3_col2, #T_96336_row4_col7, #T_96336_row7_col4, #T_96336_row9_col11, #T_96336_row11_col2 {
  background-color: #3c4ec2;
  color: #f1f1f1;
}
#T_96336_row2_col6, #T_96336_row7_col2, #T_96336_row10_col11 {
  background-color: #3e51c5;
  color: #f1f1f1;
}
#T_96336_row2_col10, #T_96336_row2_col11, #T_96336_row3_col1, #T_96336_row3_col4, #T_96336_row3_col12, #T_96336_row4_col3, #T_96336_row5_col7, #T_96336_row6_col11, #T_96336_row7_col5, #T_96336_row7_col9, #T_96336_row8_col10, #T_96336_row9_col7, #T_96336_row9_col12, #T_96336_row10_col0, #T_96336_row10_col2, #T_96336_row10_col8, #T_96336_row11_col6, #T_96336_row12_col3, #T_96336_row12_col9 {
  background-color: #3b4cc0;
  color: #f1f1f1;
}
#T_96336_row3_col0, #T_96336_row3_col6, #T_96336_row3_col8, #T_96336_row9_col1, #T_96336_row11_col8 {
  background-color: #5470de;
  color: #f1f1f1;
}
#T_96336_row3_col10, #T_96336_row4_col9, #T_96336_row10_col3, #T_96336_row11_col7 {
  background-color: #688aef;
  color: #f1f1f1;
}
#T_96336_row4_col5, #T_96336_row5_col4, #T_96336_row6_col2, #T_96336_row8_col9, #T_96336_row9_col8, #T_96336_row10_col7, #T_96336_row11_col10 {
  background-color: #4055c8;
  color: #f1f1f1;
}
#T_96336_row4_col8, #T_96336_row8_col4 {
  background-color: #7295f4;
  color: #f1f1f1;
}
#T_96336_row4_col12 {
  background-color: #93b5fe;
  color: #000000;
}
#T_96336_row5_col2, #T_96336_row6_col4 {
  background-color: #4f69d9;
  color: #f1f1f1;
}
#T_96336_row5_col10, #T_96336_row8_col6, #T_96336_row10_col5, #T_96336_row12_col1 {
  background-color: #4a63d3;
  color: #f1f1f1;
}
#T_96336_row6_col5, #T_96336_row7_col3 {
  background-color: #485fd1;
  color: #f1f1f1;
}
#T_96336_row6_col9 {
  background-color: #6180e9;
  color: #f1f1f1;
}
#T_96336_row7_col0, #T_96336_row7_col11, #T_96336_row9_col4 {
  background-color: #6788ee;
  color: #f1f1f1;
}
#T_96336_row7_col6, #T_96336_row8_col0, #T_96336_row8_col1 {
  background-color: #4358cb;
  color: #f1f1f1;
}
#T_96336_row7_col8, #T_96336_row8_col7 {
  background-color: #7699f6;
  color: #f1f1f1;
}
#T_96336_row7_col12, #T_96336_row12_col7 {
  background-color: #9bbcff;
  color: #000000;
}
#T_96336_row8_col12, #T_96336_row11_col5 {
  background-color: #799cf8;
  color: #f1f1f1;
}
#T_96336_row9_col6 {
  background-color: #5e7de7;
  color: #f1f1f1;
}
#T_96336_row9_col10, #T_96336_row10_col9 {
  background-color: #cdd9ec;
  color: #000000;
}
#T_96336_row10_col1 {
  background-color: #5875e1;
  color: #f1f1f1;
}
#T_96336_row11_col0 {
  background-color: #7ea1fa;
  color: #f1f1f1;
}
#T_96336_row11_col1 {
  background-color: #6384eb;
  color: #f1f1f1;
}
#T_96336_row11_col12 {
  background-color: #e3d9d3;
  color: #000000;
}
#T_96336_row12_col0 {
  background-color: #89acfd;
  color: #000000;
}
#T_96336_row12_col4 {
  background-color: #92b4fe;
  color: #000000;
}
#T_96336_row12_col11 {
  background-color: #e2dad5;
  color: #000000;
}
</style>

<table id="T_96336" data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th class="blank level0" data-quarto-table-cell-role="th">&nbsp;</th>
<th id="T_96336_level0_col0" class="col_heading level0 col0" data-quarto-table-cell-role="th">age</th>
<th id="T_96336_level0_col1" class="col_heading level0 col1" data-quarto-table-cell-role="th">anaemia</th>
<th id="T_96336_level0_col2" class="col_heading level0 col2" data-quarto-table-cell-role="th">creatinine_phosphokinase</th>
<th id="T_96336_level0_col3" class="col_heading level0 col3" data-quarto-table-cell-role="th">diabetes</th>
<th id="T_96336_level0_col4" class="col_heading level0 col4" data-quarto-table-cell-role="th">ejection_fraction</th>
<th id="T_96336_level0_col5" class="col_heading level0 col5" data-quarto-table-cell-role="th">high_blood_pressure</th>
<th id="T_96336_level0_col6" class="col_heading level0 col6" data-quarto-table-cell-role="th">platelets</th>
<th id="T_96336_level0_col7" class="col_heading level0 col7" data-quarto-table-cell-role="th">serum_creatinine</th>
<th id="T_96336_level0_col8" class="col_heading level0 col8" data-quarto-table-cell-role="th">serum_sodium</th>
<th id="T_96336_level0_col9" class="col_heading level0 col9" data-quarto-table-cell-role="th">sex</th>
<th id="T_96336_level0_col10" class="col_heading level0 col10" data-quarto-table-cell-role="th">smoking</th>
<th id="T_96336_level0_col11" class="col_heading level0 col11" data-quarto-table-cell-role="th">time</th>
<th id="T_96336_level0_col12" class="col_heading level0 col12" data-quarto-table-cell-role="th">death_event</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td id="T_96336_level0_row0" class="row_heading level0 row0" data-quarto-table-cell-role="th">age</td>
<td id="T_96336_row0_col0" class="data row0 col0">1.000000</td>
<td id="T_96336_row0_col1" class="data row0 col1">0.088006</td>
<td id="T_96336_row0_col2" class="data row0 col2">0.081584</td>
<td id="T_96336_row0_col3" class="data row0 col3">0.101012</td>
<td id="T_96336_row0_col4" class="data row0 col4">0.060098</td>
<td id="T_96336_row0_col5" class="data row0 col5">0.093289</td>
<td id="T_96336_row0_col6" class="data row0 col6">0.052354</td>
<td id="T_96336_row0_col7" class="data row0 col7">0.159187</td>
<td id="T_96336_row0_col8" class="data row0 col8">0.045966</td>
<td id="T_96336_row0_col9" class="data row0 col9">0.065430</td>
<td id="T_96336_row0_col10" class="data row0 col10">0.018668</td>
<td id="T_96336_row0_col11" class="data row0 col11">0.224068</td>
<td id="T_96336_row0_col12" class="data row0 col12">0.253729</td>
</tr>
<tr class="even">
<td id="T_96336_level0_row1" class="row_heading level0 row1" data-quarto-table-cell-role="th">anaemia</td>
<td id="T_96336_row1_col0" class="data row1 col0">0.088006</td>
<td id="T_96336_row1_col1" class="data row1 col1">1.000000</td>
<td id="T_96336_row1_col2" class="data row1 col2">0.190741</td>
<td id="T_96336_row1_col3" class="data row1 col3">0.012729</td>
<td id="T_96336_row1_col4" class="data row1 col4">0.031557</td>
<td id="T_96336_row1_col5" class="data row1 col5">0.038182</td>
<td id="T_96336_row1_col6" class="data row1 col6">0.043786</td>
<td id="T_96336_row1_col7" class="data row1 col7">0.052174</td>
<td id="T_96336_row1_col8" class="data row1 col8">0.041882</td>
<td id="T_96336_row1_col9" class="data row1 col9">0.094769</td>
<td id="T_96336_row1_col10" class="data row1 col10">0.107290</td>
<td id="T_96336_row1_col11" class="data row1 col11">0.141414</td>
<td id="T_96336_row1_col12" class="data row1 col12">0.066270</td>
</tr>
<tr class="odd">
<td id="T_96336_level0_row2" class="row_heading level0 row2" data-quarto-table-cell-role="th">creatinine_phosphokinase</td>
<td id="T_96336_row2_col0" class="data row2 col0">0.081584</td>
<td id="T_96336_row2_col1" class="data row2 col1">0.190741</td>
<td id="T_96336_row2_col2" class="data row2 col2">1.000000</td>
<td id="T_96336_row2_col3" class="data row2 col3">0.009639</td>
<td id="T_96336_row2_col4" class="data row2 col4">0.044080</td>
<td id="T_96336_row2_col5" class="data row2 col5">0.070590</td>
<td id="T_96336_row2_col6" class="data row2 col6">0.024463</td>
<td id="T_96336_row2_col7" class="data row2 col7">0.016408</td>
<td id="T_96336_row2_col8" class="data row2 col8">0.059550</td>
<td id="T_96336_row2_col9" class="data row2 col9">0.079791</td>
<td id="T_96336_row2_col10" class="data row2 col10">0.002421</td>
<td id="T_96336_row2_col11" class="data row2 col11">0.009346</td>
<td id="T_96336_row2_col12" class="data row2 col12">0.062728</td>
</tr>
<tr class="even">
<td id="T_96336_level0_row3" class="row_heading level0 row3" data-quarto-table-cell-role="th">diabetes</td>
<td id="T_96336_row3_col0" class="data row3 col0">0.101012</td>
<td id="T_96336_row3_col1" class="data row3 col1">0.012729</td>
<td id="T_96336_row3_col2" class="data row3 col2">0.009639</td>
<td id="T_96336_row3_col3" class="data row3 col3">1.000000</td>
<td id="T_96336_row3_col4" class="data row3 col4">0.004850</td>
<td id="T_96336_row3_col5" class="data row3 col5">0.012732</td>
<td id="T_96336_row3_col6" class="data row3 col6">0.092193</td>
<td id="T_96336_row3_col7" class="data row3 col7">0.046975</td>
<td id="T_96336_row3_col8" class="data row3 col8">0.089551</td>
<td id="T_96336_row3_col9" class="data row3 col9">0.157730</td>
<td id="T_96336_row3_col10" class="data row3 col10">0.147173</td>
<td id="T_96336_row3_col11" class="data row3 col11">0.033726</td>
<td id="T_96336_row3_col12" class="data row3 col12">0.001943</td>
</tr>
<tr class="odd">
<td id="T_96336_level0_row4" class="row_heading level0 row4" data-quarto-table-cell-role="th">ejection_fraction</td>
<td id="T_96336_row4_col0" class="data row4 col0">0.060098</td>
<td id="T_96336_row4_col1" class="data row4 col1">0.031557</td>
<td id="T_96336_row4_col2" class="data row4 col2">0.044080</td>
<td id="T_96336_row4_col3" class="data row4 col3">0.004850</td>
<td id="T_96336_row4_col4" class="data row4 col4">1.000000</td>
<td id="T_96336_row4_col5" class="data row4 col5">0.024445</td>
<td id="T_96336_row4_col6" class="data row4 col6">0.072177</td>
<td id="T_96336_row4_col7" class="data row4 col7">0.011302</td>
<td id="T_96336_row4_col8" class="data row4 col8">0.175902</td>
<td id="T_96336_row4_col9" class="data row4 col9">0.148386</td>
<td id="T_96336_row4_col10" class="data row4 col10">0.067315</td>
<td id="T_96336_row4_col11" class="data row4 col11">0.041729</td>
<td id="T_96336_row4_col12" class="data row4 col12">0.268603</td>
</tr>
<tr class="even">
<td id="T_96336_level0_row5" class="row_heading level0 row5" data-quarto-table-cell-role="th">high_blood_pressure</td>
<td id="T_96336_row5_col0" class="data row5 col0">0.093289</td>
<td id="T_96336_row5_col1" class="data row5 col1">0.038182</td>
<td id="T_96336_row5_col2" class="data row5 col2">0.070590</td>
<td id="T_96336_row5_col3" class="data row5 col3">0.012732</td>
<td id="T_96336_row5_col4" class="data row5 col4">0.024445</td>
<td id="T_96336_row5_col5" class="data row5 col5">1.000000</td>
<td id="T_96336_row5_col6" class="data row5 col6">0.049963</td>
<td id="T_96336_row5_col7" class="data row5 col7">0.004935</td>
<td id="T_96336_row5_col8" class="data row5 col8">0.037109</td>
<td id="T_96336_row5_col9" class="data row5 col9">0.104615</td>
<td id="T_96336_row5_col10" class="data row5 col10">0.055711</td>
<td id="T_96336_row5_col11" class="data row5 col11">0.196439</td>
<td id="T_96336_row5_col12" class="data row5 col12">0.079351</td>
</tr>
<tr class="odd">
<td id="T_96336_level0_row6" class="row_heading level0 row6" data-quarto-table-cell-role="th">platelets</td>
<td id="T_96336_row6_col0" class="data row6 col0">0.052354</td>
<td id="T_96336_row6_col1" class="data row6 col1">0.043786</td>
<td id="T_96336_row6_col2" class="data row6 col2">0.024463</td>
<td id="T_96336_row6_col3" class="data row6 col3">0.092193</td>
<td id="T_96336_row6_col4" class="data row6 col4">0.072177</td>
<td id="T_96336_row6_col5" class="data row6 col5">0.049963</td>
<td id="T_96336_row6_col6" class="data row6 col6">1.000000</td>
<td id="T_96336_row6_col7" class="data row6 col7">0.041198</td>
<td id="T_96336_row6_col8" class="data row6 col8">0.062125</td>
<td id="T_96336_row6_col9" class="data row6 col9">0.125120</td>
<td id="T_96336_row6_col10" class="data row6 col10">0.028234</td>
<td id="T_96336_row6_col11" class="data row6 col11">0.010514</td>
<td id="T_96336_row6_col12" class="data row6 col12">0.049139</td>
</tr>
<tr class="even">
<td id="T_96336_level0_row7" class="row_heading level0 row7" data-quarto-table-cell-role="th">serum_creatinine</td>
<td id="T_96336_row7_col0" class="data row7 col0">0.159187</td>
<td id="T_96336_row7_col1" class="data row7 col1">0.052174</td>
<td id="T_96336_row7_col2" class="data row7 col2">0.016408</td>
<td id="T_96336_row7_col3" class="data row7 col3">0.046975</td>
<td id="T_96336_row7_col4" class="data row7 col4">0.011302</td>
<td id="T_96336_row7_col5" class="data row7 col5">0.004935</td>
<td id="T_96336_row7_col6" class="data row7 col6">0.041198</td>
<td id="T_96336_row7_col7" class="data row7 col7">1.000000</td>
<td id="T_96336_row7_col8" class="data row7 col8">0.189095</td>
<td id="T_96336_row7_col9" class="data row7 col9">0.006970</td>
<td id="T_96336_row7_col10" class="data row7 col10">0.027414</td>
<td id="T_96336_row7_col11" class="data row7 col11">0.149315</td>
<td id="T_96336_row7_col12" class="data row7 col12">0.294278</td>
</tr>
<tr class="odd">
<td id="T_96336_level0_row8" class="row_heading level0 row8" data-quarto-table-cell-role="th">serum_sodium</td>
<td id="T_96336_row8_col0" class="data row8 col0">0.045966</td>
<td id="T_96336_row8_col1" class="data row8 col1">0.041882</td>
<td id="T_96336_row8_col2" class="data row8 col2">0.059550</td>
<td id="T_96336_row8_col3" class="data row8 col3">0.089551</td>
<td id="T_96336_row8_col4" class="data row8 col4">0.175902</td>
<td id="T_96336_row8_col5" class="data row8 col5">0.037109</td>
<td id="T_96336_row8_col6" class="data row8 col6">0.062125</td>
<td id="T_96336_row8_col7" class="data row8 col7">0.189095</td>
<td id="T_96336_row8_col8" class="data row8 col8">1.000000</td>
<td id="T_96336_row8_col9" class="data row8 col9">0.027566</td>
<td id="T_96336_row8_col10" class="data row8 col10">0.004813</td>
<td id="T_96336_row8_col11" class="data row8 col11">0.087640</td>
<td id="T_96336_row8_col12" class="data row8 col12">0.195204</td>
</tr>
<tr class="even">
<td id="T_96336_level0_row9" class="row_heading level0 row9" data-quarto-table-cell-role="th">sex</td>
<td id="T_96336_row9_col0" class="data row9 col0">0.065430</td>
<td id="T_96336_row9_col1" class="data row9 col1">0.094769</td>
<td id="T_96336_row9_col2" class="data row9 col2">0.079791</td>
<td id="T_96336_row9_col3" class="data row9 col3">0.157730</td>
<td id="T_96336_row9_col4" class="data row9 col4">0.148386</td>
<td id="T_96336_row9_col5" class="data row9 col5">0.104615</td>
<td id="T_96336_row9_col6" class="data row9 col6">0.125120</td>
<td id="T_96336_row9_col7" class="data row9 col7">0.006970</td>
<td id="T_96336_row9_col8" class="data row9 col8">0.027566</td>
<td id="T_96336_row9_col9" class="data row9 col9">1.000000</td>
<td id="T_96336_row9_col10" class="data row9 col10">0.445892</td>
<td id="T_96336_row9_col11" class="data row9 col11">0.015608</td>
<td id="T_96336_row9_col12" class="data row9 col12">0.004316</td>
</tr>
<tr class="odd">
<td id="T_96336_level0_row10" class="row_heading level0 row10" data-quarto-table-cell-role="th">smoking</td>
<td id="T_96336_row10_col0" class="data row10 col0">0.018668</td>
<td id="T_96336_row10_col1" class="data row10 col1">0.107290</td>
<td id="T_96336_row10_col2" class="data row10 col2">0.002421</td>
<td id="T_96336_row10_col3" class="data row10 col3">0.147173</td>
<td id="T_96336_row10_col4" class="data row10 col4">0.067315</td>
<td id="T_96336_row10_col5" class="data row10 col5">0.055711</td>
<td id="T_96336_row10_col6" class="data row10 col6">0.028234</td>
<td id="T_96336_row10_col7" class="data row10 col7">0.027414</td>
<td id="T_96336_row10_col8" class="data row10 col8">0.004813</td>
<td id="T_96336_row10_col9" class="data row10 col9">0.445892</td>
<td id="T_96336_row10_col10" class="data row10 col10">1.000000</td>
<td id="T_96336_row10_col11" class="data row10 col11">0.022839</td>
<td id="T_96336_row10_col12" class="data row10 col12">0.012623</td>
</tr>
<tr class="even">
<td id="T_96336_level0_row11" class="row_heading level0 row11" data-quarto-table-cell-role="th">time</td>
<td id="T_96336_row11_col0" class="data row11 col0">0.224068</td>
<td id="T_96336_row11_col1" class="data row11 col1">0.141414</td>
<td id="T_96336_row11_col2" class="data row11 col2">0.009346</td>
<td id="T_96336_row11_col3" class="data row11 col3">0.033726</td>
<td id="T_96336_row11_col4" class="data row11 col4">0.041729</td>
<td id="T_96336_row11_col5" class="data row11 col5">0.196439</td>
<td id="T_96336_row11_col6" class="data row11 col6">0.010514</td>
<td id="T_96336_row11_col7" class="data row11 col7">0.149315</td>
<td id="T_96336_row11_col8" class="data row11 col8">0.087640</td>
<td id="T_96336_row11_col9" class="data row11 col9">0.015608</td>
<td id="T_96336_row11_col10" class="data row11 col10">0.022839</td>
<td id="T_96336_row11_col11" class="data row11 col11">1.000000</td>
<td id="T_96336_row11_col12" class="data row11 col12">0.526964</td>
</tr>
<tr class="odd">
<td id="T_96336_level0_row12" class="row_heading level0 row12" data-quarto-table-cell-role="th">death_event</td>
<td id="T_96336_row12_col0" class="data row12 col0">0.253729</td>
<td id="T_96336_row12_col1" class="data row12 col1">0.066270</td>
<td id="T_96336_row12_col2" class="data row12 col2">0.062728</td>
<td id="T_96336_row12_col3" class="data row12 col3">0.001943</td>
<td id="T_96336_row12_col4" class="data row12 col4">0.268603</td>
<td id="T_96336_row12_col5" class="data row12 col5">0.079351</td>
<td id="T_96336_row12_col6" class="data row12 col6">0.049139</td>
<td id="T_96336_row12_col7" class="data row12 col7">0.294278</td>
<td id="T_96336_row12_col8" class="data row12 col8">0.195204</td>
<td id="T_96336_row12_col9" class="data row12 col9">0.004316</td>
<td id="T_96336_row12_col10" class="data row12 col10">0.012623</td>
<td id="T_96336_row12_col11" class="data row12 col11">0.526964</td>
<td id="T_96336_row12_col12" class="data row12 col12">1.000000</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="univariant-analysis" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="univariant-analysis"><span class="header-section-number">3.3</span> Univariant Analysis</h2>
<div class="cell" data-execution_count="75">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculating total number of death events for each desease </span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>diabetic_death <span class="op">=</span> ((df_cleaned[<span class="st">"death_event"</span>] <span class="op">==</span> <span class="dv">1</span>) <span class="op">&amp;</span> (df_cleaned[<span class="st">"diabetes"</span>] <span class="op">==</span> <span class="dv">1</span>)).<span class="bu">sum</span>()</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>smoker_death <span class="op">=</span> ((df_cleaned[<span class="st">"death_event"</span>] <span class="op">==</span> <span class="dv">1</span>) <span class="op">&amp;</span> (df_cleaned[<span class="st">"smoking"</span>] <span class="op">==</span> <span class="dv">1</span>)).<span class="bu">sum</span>()</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>high_blood_pressure_death <span class="op">=</span> ((df_cleaned[<span class="st">"death_event"</span>] <span class="op">==</span> <span class="dv">1</span>) <span class="op">&amp;</span> (df_cleaned[<span class="st">"high_blood_pressure"</span>] <span class="op">==</span> <span class="dv">1</span>)).<span class="bu">sum</span>()</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>male_death <span class="op">=</span> ((df_cleaned[<span class="st">"death_event"</span>] <span class="op">==</span> <span class="dv">1</span>) <span class="op">&amp;</span> (df_cleaned[<span class="st">"sex"</span>] <span class="op">==</span> <span class="dv">1</span>)).<span class="bu">sum</span>()</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>female_deaths <span class="op">=</span> ((df_cleaned[<span class="st">"death_event"</span>] <span class="op">==</span> <span class="dv">1</span>) <span class="op">&amp;</span> (df_cleaned[<span class="st">"sex"</span>] <span class="op">==</span> <span class="dv">0</span>)).<span class="bu">sum</span>()</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>death_counts_df <span class="op">=</span> pd.DataFrame({</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Diabetic_Death'</span>: [diabetic_death],</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Smoker_Death'</span>: [smoker_death],</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">'High_Blood_Pressure_Death'</span>: [high_blood_pressure_death],</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Male_Death'</span>: [male_death],</span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Female_Deaths'</span>: [female_deaths]</span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the resulting DataFrame</span></span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>death_counts_df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="75">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Diabetic_Death</th>
<th data-quarto-table-cell-role="th">Smoker_Death</th>
<th data-quarto-table-cell-role="th">High_Blood_Pressure_Death</th>
<th data-quarto-table-cell-role="th">Male_Death</th>
<th data-quarto-table-cell-role="th">Female_Deaths</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>40</td>
<td>30</td>
<td>39</td>
<td>62</td>
<td>34</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell" data-execution_count="107">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>death_counts_df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="107">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Conditions</th>
<th data-quarto-table-cell-role="th">Counts</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Diabetic_Death</td>
<td>40</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Smoker_Death</td>
<td>30</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>High_Blood_Pressure_Death</td>
<td>39</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell" data-execution_count="106">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Ploting bar chart for death_counts_df</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>counts_data <span class="op">=</span> {</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Conditions'</span>: [<span class="st">"Diabetic_Death"</span>, <span class="st">"Smoker_Death"</span>, <span class="st">"High_Blood_Pressure_Death"</span>],</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Counts'</span>: [<span class="dv">40</span>, <span class="dv">30</span>, <span class="dv">39</span>]</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a DataFrame</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>death_counts_df <span class="op">=</span> pd.DataFrame(counts_data)</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the resulting DataFrame</span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(death_counts_df)</span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Plotting the bar chart</span></span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>death_counts_df.plot(x<span class="op">=</span><span class="st">'Conditions'</span>, y<span class="op">=</span><span class="st">'Counts'</span>, kind<span class="op">=</span><span class="st">'bar'</span>, legend<span class="op">=</span><span class="va">False</span>, figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>),color<span class="op">=</span>[<span class="st">'blue'</span>, <span class="st">'red'</span>, <span class="st">'green'</span>, <span class="st">'blue'</span>, <span class="st">'purple'</span>], alpha <span class="op">=</span> <span class="fl">0.60</span>)</span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Conditions'</span>)</span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Count'</span>)</span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span> <span class="dv">45</span>, ha<span class="op">=</span><span class="st">'right'</span>)  </span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>                  Conditions  Counts
0             Diabetic_Death      40
1               Smoker_Death      30
2  High_Blood_Pressure_Death      39</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="index_files/figure-html/cell-17-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="108">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>death_counts_df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="108">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Conditions</th>
<th data-quarto-table-cell-role="th">Counts</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Diabetic_Death</td>
<td>40</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Smoker_Death</td>
<td>30</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>High_Blood_Pressure_Death</td>
<td>39</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell" data-execution_count="21">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plotting the pie chart</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>plt.pie(death_counts_df[<span class="st">'Counts'</span>], labels<span class="op">=</span>death_counts_df[<span class="st">'Conditions'</span>], autopct<span class="op">=</span><span class="st">'</span><span class="sc">%1.1f%%</span><span class="st">'</span>, startangle<span class="op">=</span><span class="dv">90</span>)</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Death Counts for Different Conditions'</span>)</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="index_files/figure-html/cell-19-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="80">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>plt.hist(death_counts_df[<span class="st">'Counts'</span>])<span class="co">#, labels=death_counts_df['Conditions'], autopct='%1.1f%%', startangle=90)</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Death Counts for Different Conditions'</span>)</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="index_files/figure-html/cell-20-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="22">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>df_cleaned[df_cleaned[<span class="st">"age"</span>] <span class="op">&gt;</span> <span class="dv">85</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="22">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">age</th>
<th data-quarto-table-cell-role="th">anaemia</th>
<th data-quarto-table-cell-role="th">creatinine_phosphokinase</th>
<th data-quarto-table-cell-role="th">diabetes</th>
<th data-quarto-table-cell-role="th">ejection_fraction</th>
<th data-quarto-table-cell-role="th">high_blood_pressure</th>
<th data-quarto-table-cell-role="th">platelets</th>
<th data-quarto-table-cell-role="th">serum_creatinine</th>
<th data-quarto-table-cell-role="th">serum_sodium</th>
<th data-quarto-table-cell-role="th">sex</th>
<th data-quarto-table-cell-role="th">smoking</th>
<th data-quarto-table-cell-role="th">time</th>
<th data-quarto-table-cell-role="th">death_event</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">5</td>
<td>90.0</td>
<td>1</td>
<td>47</td>
<td>0</td>
<td>40</td>
<td>1</td>
<td>204000.00</td>
<td>2.10</td>
<td>132</td>
<td>1</td>
<td>1</td>
<td>8</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">16</td>
<td>87.0</td>
<td>1</td>
<td>149</td>
<td>0</td>
<td>38</td>
<td>0</td>
<td>262000.00</td>
<td>0.90</td>
<td>140</td>
<td>1</td>
<td>0</td>
<td>14</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">26</td>
<td>95.0</td>
<td>1</td>
<td>112</td>
<td>0</td>
<td>40</td>
<td>1</td>
<td>196000.00</td>
<td>1.00</td>
<td>138</td>
<td>0</td>
<td>0</td>
<td>24</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">30</td>
<td>94.0</td>
<td>0</td>
<td>582</td>
<td>1</td>
<td>38</td>
<td>1</td>
<td>263358.03</td>
<td>1.83</td>
<td>134</td>
<td>1</td>
<td>0</td>
<td>27</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">36</td>
<td>90.0</td>
<td>1</td>
<td>60</td>
<td>1</td>
<td>50</td>
<td>0</td>
<td>226000.00</td>
<td>1.00</td>
<td>134</td>
<td>1</td>
<td>0</td>
<td>30</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">55</td>
<td>95.0</td>
<td>1</td>
<td>371</td>
<td>0</td>
<td>30</td>
<td>0</td>
<td>461000.00</td>
<td>2.00</td>
<td>132</td>
<td>1</td>
<td>0</td>
<td>50</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">119</td>
<td>86.0</td>
<td>0</td>
<td>582</td>
<td>0</td>
<td>38</td>
<td>0</td>
<td>263358.03</td>
<td>1.83</td>
<td>134</td>
<td>0</td>
<td>0</td>
<td>95</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">289</td>
<td>90.0</td>
<td>1</td>
<td>337</td>
<td>0</td>
<td>38</td>
<td>0</td>
<td>390000.00</td>
<td>0.90</td>
<td>144</td>
<td>0</td>
<td>0</td>
<td>256</td>
<td>0</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<section id="age-and-creatinine-phosphokinase" class="level3" data-number="3.3.1">
<h3 data-number="3.3.1" class="anchored" data-anchor-id="age-and-creatinine-phosphokinase"><span class="header-section-number">3.3.1</span> Age and Creatinine Phosphokinase</h3>
<div class="cell" data-execution_count="103">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a scatter plot of Creatinine Phosphokinase levels by Age</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>Figure2, Axes2 <span class="op">=</span> plt.subplots()</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>Axes2.scatter(df_cleaned[df_cleaned[<span class="st">"death_event"</span>] <span class="op">==</span> <span class="dv">1</span>][<span class="st">"age"</span>],</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>              df_cleaned[df_cleaned[<span class="st">"death_event"</span>] <span class="op">==</span> <span class="dv">1</span>][<span class="st">"creatinine_phosphokinase"</span>],</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>              s <span class="op">=</span> <span class="dv">55</span>,</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>              c <span class="op">=</span> red,</span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>              alpha <span class="op">=</span> <span class="fl">.4</span>,</span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>              label <span class="op">=</span> <span class="st">"death"</span>)</span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>Axes2.scatter(df_cleaned[df_cleaned[<span class="st">"death_event"</span>] <span class="op">==</span> <span class="dv">0</span>][<span class="st">"age"</span>],</span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>              df_cleaned[df_cleaned[<span class="st">"death_event"</span>] <span class="op">==</span> <span class="dv">0</span>][<span class="st">"creatinine_phosphokinase"</span>],</span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>              s <span class="op">=</span> <span class="dv">55</span>,</span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>              c <span class="op">=</span> blue,</span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>              alpha <span class="op">=</span> <span class="fl">.4</span>,</span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>              label <span class="op">=</span> <span class="st">"No death"</span>)</span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Theme for plot </span></span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a>Axes2.set_facecolor(light_gray_1)</span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a>Axes2.spines[<span class="st">"top"</span>].set_visible(<span class="va">False</span>)</span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a>Axes2.spines[<span class="st">"right"</span>].set_visible(<span class="va">False</span>)</span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a>Axes2.yaxis.set_tick_params(labelsize <span class="op">=</span> <span class="dv">10</span>)</span>
<span id="cb27-23"><a href="#cb27-23" aria-hidden="true" tabindex="-1"></a>Axes2.xaxis.set_tick_params(labelsize <span class="op">=</span> <span class="dv">10</span>)</span>
<span id="cb27-24"><a href="#cb27-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-25"><a href="#cb27-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Title and labels</span></span>
<span id="cb27-26"><a href="#cb27-26" aria-hidden="true" tabindex="-1"></a>plt.title(label <span class="op">=</span> <span class="st">"Levels of Creatinine Phosphokinase by Age"</span>,</span>
<span id="cb27-27"><a href="#cb27-27" aria-hidden="true" tabindex="-1"></a>          loc <span class="op">=</span> <span class="st">"left"</span>,</span>
<span id="cb27-28"><a href="#cb27-28" aria-hidden="true" tabindex="-1"></a>        fontsize <span class="op">=</span> <span class="dv">16</span>)</span>
<span id="cb27-29"><a href="#cb27-29" aria-hidden="true" tabindex="-1"></a>plt.ylabel(ylabel <span class="op">=</span> <span class="st">"Creatinine Phosphokinase (mcg/L)"</span>,</span>
<span id="cb27-30"><a href="#cb27-30" aria-hidden="true" tabindex="-1"></a>           fontsize <span class="op">=</span> <span class="dv">12</span>)</span>
<span id="cb27-31"><a href="#cb27-31" aria-hidden="true" tabindex="-1"></a>plt.xlabel(xlabel <span class="op">=</span> <span class="st">"Age"</span>,</span>
<span id="cb27-32"><a href="#cb27-32" aria-hidden="true" tabindex="-1"></a>           fontsize <span class="op">=</span> <span class="dv">12</span>)</span>
<span id="cb27-33"><a href="#cb27-33" aria-hidden="true" tabindex="-1"></a>plt.grid()</span>
<span id="cb27-34"><a href="#cb27-34" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb27-35"><a href="#cb27-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-36"><a href="#cb27-36" aria-hidden="true" tabindex="-1"></a>plt.savefig(fname <span class="op">=</span> <span class="st">"./Images/Figure2"</span>,</span>
<span id="cb27-37"><a href="#cb27-37" aria-hidden="true" tabindex="-1"></a>            dpi <span class="op">=</span> <span class="dv">400</span>)</span>
<span id="cb27-38"><a href="#cb27-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-39"><a href="#cb27-39" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="index_files/figure-html/cell-22-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="age-and-serum-creatinine" class="level3" data-number="3.3.2">
<h3 data-number="3.3.2" class="anchored" data-anchor-id="age-and-serum-creatinine"><span class="header-section-number">3.3.2</span> Age and Serum Creatinine</h3>
<div class="cell" data-execution_count="104">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a scatter plot of serum creatinine levels by Age</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>Figure3, Axes3 <span class="op">=</span> plt.subplots()</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>Axes3.scatter(df_cleaned[df_cleaned[<span class="st">"death_event"</span>] <span class="op">==</span> <span class="dv">1</span>][<span class="st">"age"</span>],</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>              df_cleaned[df_cleaned[<span class="st">"death_event"</span>] <span class="op">==</span> <span class="dv">1</span>][<span class="st">"serum_creatinine"</span>],</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>              s <span class="op">=</span> <span class="dv">55</span>,</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>              c <span class="op">=</span> red,</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>              alpha <span class="op">=</span> <span class="fl">.5</span>,</span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>              label <span class="op">=</span> <span class="st">"Death"</span>)</span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>Axes3.scatter(df_cleaned[df_cleaned[<span class="st">"death_event"</span>] <span class="op">==</span> <span class="dv">0</span>][<span class="st">"age"</span>],</span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>              df_cleaned[df_cleaned[<span class="st">"death_event"</span>] <span class="op">==</span> <span class="dv">0</span>][<span class="st">"serum_creatinine"</span>],</span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>              s <span class="op">=</span> <span class="dv">55</span>,</span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>              c <span class="op">=</span> blue,</span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>              alpha <span class="op">=</span> <span class="fl">.5</span>,</span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a>              label <span class="op">=</span> <span class="st">"Survived"</span>)</span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Theme for plot </span></span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a>Axes3.set_facecolor(light_gray_1)</span>
<span id="cb28-20"><a href="#cb28-20" aria-hidden="true" tabindex="-1"></a>Axes3.spines[<span class="st">"top"</span>].set_visible(<span class="va">False</span>)</span>
<span id="cb28-21"><a href="#cb28-21" aria-hidden="true" tabindex="-1"></a>Axes3.spines[<span class="st">"right"</span>].set_visible(<span class="va">False</span>)</span>
<span id="cb28-22"><a href="#cb28-22" aria-hidden="true" tabindex="-1"></a>Axes3.yaxis.set_tick_params(labelsize <span class="op">=</span> <span class="dv">10</span>)</span>
<span id="cb28-23"><a href="#cb28-23" aria-hidden="true" tabindex="-1"></a>Axes3.xaxis.set_tick_params(labelsize <span class="op">=</span> <span class="dv">10</span>)</span>
<span id="cb28-24"><a href="#cb28-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-25"><a href="#cb28-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Title and labels</span></span>
<span id="cb28-26"><a href="#cb28-26" aria-hidden="true" tabindex="-1"></a>plt.title(label <span class="op">=</span> <span class="st">"Levels of Serum Creatinine by Age"</span>,</span>
<span id="cb28-27"><a href="#cb28-27" aria-hidden="true" tabindex="-1"></a>          loc <span class="op">=</span> <span class="st">"left"</span>,</span>
<span id="cb28-28"><a href="#cb28-28" aria-hidden="true" tabindex="-1"></a>        fontsize <span class="op">=</span> <span class="dv">16</span>)</span>
<span id="cb28-29"><a href="#cb28-29" aria-hidden="true" tabindex="-1"></a>plt.ylabel(ylabel <span class="op">=</span> <span class="st">"Serum Creatinine (mcg/L)"</span>,</span>
<span id="cb28-30"><a href="#cb28-30" aria-hidden="true" tabindex="-1"></a>           fontsize <span class="op">=</span> <span class="dv">12</span>)</span>
<span id="cb28-31"><a href="#cb28-31" aria-hidden="true" tabindex="-1"></a>plt.xlabel(xlabel <span class="op">=</span> <span class="st">"Age"</span>,</span>
<span id="cb28-32"><a href="#cb28-32" aria-hidden="true" tabindex="-1"></a>           fontsize <span class="op">=</span> <span class="dv">12</span>)</span>
<span id="cb28-33"><a href="#cb28-33" aria-hidden="true" tabindex="-1"></a>plt.grid()</span>
<span id="cb28-34"><a href="#cb28-34" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb28-35"><a href="#cb28-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-36"><a href="#cb28-36" aria-hidden="true" tabindex="-1"></a>plt.savefig(fname <span class="op">=</span> <span class="st">"./Images/Figure3"</span>,</span>
<span id="cb28-37"><a href="#cb28-37" aria-hidden="true" tabindex="-1"></a>            dpi <span class="op">=</span> <span class="dv">400</span>)</span>
<span id="cb28-38"><a href="#cb28-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-39"><a href="#cb28-39" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="index_files/figure-html/cell-23-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="age-and-serum-sodium" class="level3" data-number="3.3.3">
<h3 data-number="3.3.3" class="anchored" data-anchor-id="age-and-serum-sodium"><span class="header-section-number">3.3.3</span> Age and Serum Sodium</h3>
<div class="cell" data-execution_count="105">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a scatter plot of serum creatinine levels by Age</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>Figure4, Axes4 <span class="op">=</span> plt.subplots()</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>Axes4.scatter(df_cleaned[df_cleaned[<span class="st">"death_event"</span>] <span class="op">==</span> <span class="dv">1</span>][<span class="st">"age"</span>],</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>              df_cleaned[df_cleaned[<span class="st">"death_event"</span>] <span class="op">==</span> <span class="dv">1</span>][<span class="st">"serum_sodium"</span>],</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>              s <span class="op">=</span> <span class="dv">55</span>,</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>              c <span class="op">=</span> red,</span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>              alpha <span class="op">=</span> <span class="fl">.5</span>,</span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>              label <span class="op">=</span> <span class="st">"death"</span>)</span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>Axes4.scatter(df_cleaned[df_cleaned[<span class="st">"death_event"</span>] <span class="op">==</span> <span class="dv">0</span>][<span class="st">"age"</span>],</span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>              df_cleaned[df_cleaned[<span class="st">"death_event"</span>] <span class="op">==</span> <span class="dv">0</span>][<span class="st">"serum_sodium"</span>],</span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>              s <span class="op">=</span> <span class="dv">55</span>,</span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a>              c <span class="op">=</span> blue,</span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a>              alpha <span class="op">=</span> <span class="fl">.5</span>,</span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a>              label <span class="op">=</span> <span class="st">"No death"</span>)</span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Theme for plot </span></span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a>Axes4.set_facecolor(light_gray_1)</span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a>Axes4.spines[<span class="st">"top"</span>].set_visible(<span class="va">False</span>)</span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a>Axes4.spines[<span class="st">"right"</span>].set_visible(<span class="va">False</span>)</span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a>Axes4.yaxis.set_tick_params(labelsize <span class="op">=</span> <span class="dv">10</span>)</span>
<span id="cb29-22"><a href="#cb29-22" aria-hidden="true" tabindex="-1"></a>Axes4.xaxis.set_tick_params(labelsize <span class="op">=</span> <span class="dv">10</span>)</span>
<span id="cb29-23"><a href="#cb29-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-24"><a href="#cb29-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Title and labels</span></span>
<span id="cb29-25"><a href="#cb29-25" aria-hidden="true" tabindex="-1"></a>plt.title(label <span class="op">=</span> <span class="st">"Levels of Serum Creatinine by Age"</span>,</span>
<span id="cb29-26"><a href="#cb29-26" aria-hidden="true" tabindex="-1"></a>          loc <span class="op">=</span> <span class="st">"left"</span>,</span>
<span id="cb29-27"><a href="#cb29-27" aria-hidden="true" tabindex="-1"></a>        fontsize <span class="op">=</span> <span class="dv">16</span>)</span>
<span id="cb29-28"><a href="#cb29-28" aria-hidden="true" tabindex="-1"></a>plt.ylabel(ylabel <span class="op">=</span> <span class="st">"Serum Creatinine (mcg/L)"</span>,</span>
<span id="cb29-29"><a href="#cb29-29" aria-hidden="true" tabindex="-1"></a>           fontsize <span class="op">=</span> <span class="dv">12</span>)</span>
<span id="cb29-30"><a href="#cb29-30" aria-hidden="true" tabindex="-1"></a>plt.xlabel(xlabel <span class="op">=</span> <span class="st">"Age"</span>,</span>
<span id="cb29-31"><a href="#cb29-31" aria-hidden="true" tabindex="-1"></a>           fontsize <span class="op">=</span> <span class="dv">12</span>)</span>
<span id="cb29-32"><a href="#cb29-32" aria-hidden="true" tabindex="-1"></a>plt.grid()</span>
<span id="cb29-33"><a href="#cb29-33" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb29-34"><a href="#cb29-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-35"><a href="#cb29-35" aria-hidden="true" tabindex="-1"></a>plt.savefig(fname <span class="op">=</span> <span class="st">"./Images/Figure4"</span>,</span>
<span id="cb29-36"><a href="#cb29-36" aria-hidden="true" tabindex="-1"></a>            dpi <span class="op">=</span> <span class="dv">400</span>)</span>
<span id="cb29-37"><a href="#cb29-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-38"><a href="#cb29-38" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="index_files/figure-html/cell-24-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
</section>
<section id="multivarient-analysis" class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="multivarient-analysis"><span class="header-section-number">3.4</span> Multivarient Analysis</h2>
<section id="mortality-and-survival-among-smokers" class="level3" data-number="3.4.1">
<h3 data-number="3.4.1" class="anchored" data-anchor-id="mortality-and-survival-among-smokers"><span class="header-section-number">3.4.1</span> Mortality and Survival Among Smokers</h3>
<div class="cell" data-execution_count="26">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculating male smoker death events and survivors</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>male_smoker_death<span class="op">=</span> ((df_cleaned[<span class="st">"death_event"</span>] <span class="op">==</span> <span class="dv">1</span>) <span class="op">&amp;</span> (df_cleaned[<span class="st">"sex"</span>] <span class="op">==</span> <span class="dv">1</span>) <span class="op">&amp;</span> (df_cleaned[<span class="st">"smoking"</span>] <span class="op">==</span> <span class="dv">1</span>)).<span class="bu">sum</span>()</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>male_smoker_survivors <span class="op">=</span> ((df_cleaned[<span class="st">"death_event"</span>] <span class="op">==</span> <span class="dv">0</span>) <span class="op">&amp;</span> (df_cleaned[<span class="st">"sex"</span>] <span class="op">==</span> <span class="dv">1</span>) <span class="op">&amp;</span> (df_cleaned[<span class="st">"smoking"</span>] <span class="op">==</span> <span class="dv">1</span>)).<span class="bu">sum</span>()</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculating female smoker death events and survivors</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>female_smoker_death <span class="op">=</span> ((df_cleaned[<span class="st">"death_event"</span>] <span class="op">==</span> <span class="dv">1</span>) <span class="op">&amp;</span> (df_cleaned[<span class="st">"sex"</span>] <span class="op">==</span> <span class="dv">0</span>) <span class="op">&amp;</span> (df_cleaned[<span class="st">"smoking"</span>] <span class="op">==</span> <span class="dv">1</span>)).<span class="bu">sum</span>()</span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>female_smoker_survivors <span class="op">=</span> ((df_cleaned[<span class="st">"death_event"</span>] <span class="op">==</span> <span class="dv">0</span>) <span class="op">&amp;</span> (df_cleaned[<span class="st">"sex"</span>] <span class="op">==</span> <span class="dv">0</span>) <span class="op">&amp;</span> (df_cleaned[<span class="st">"smoking"</span>] <span class="op">==</span> <span class="dv">1</span>)).<span class="bu">sum</span>()</span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a DataFrame to display the results</span></span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a>smoker_df <span class="op">=</span> pd.DataFrame({</span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Male_Smoker_Death'</span>: [male_smoker_death],</span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Female_Smoker_Death'</span>: [female_smoker_death],</span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Male_Smoker_Survivors'</span>: [male_smoker_survivors],</span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Female_Smoker_Survivors'</span>: [female_smoker_survivors]</span>
<span id="cb30-19"><a href="#cb30-19" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb30-20"><a href="#cb30-20" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb30-21"><a href="#cb30-21" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb30-22"><a href="#cb30-22" aria-hidden="true" tabindex="-1"></a>smoker_df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="26">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Male_Smoker_Death</th>
<th data-quarto-table-cell-role="th">Female_Smoker_Death</th>
<th data-quarto-table-cell-role="th">Male_Smoker_Survivors</th>
<th data-quarto-table-cell-role="th">Female_Smoker_Survivors</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>27</td>
<td>3</td>
<td>65</td>
<td>1</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell" data-execution_count="28">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a DataFrame</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame({</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Categories'</span>: [<span class="st">'Male Smoker Deaths'</span>, <span class="st">'Female Smoker Deaths'</span>, <span class="st">'Male Smoker Survivors'</span>, <span class="st">'Female Smoker Survivors'</span>],</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Counts'</span>: [<span class="dv">27</span>, <span class="dv">3</span>, <span class="dv">65</span>, <span class="dv">1</span>]</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a sunburst chart</span></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> px.sunburst(df, path<span class="op">=</span>[<span class="st">'Categories'</span>], values<span class="op">=</span><span class="st">'Counts'</span>, color<span class="op">=</span><span class="st">'Categories'</span>,</span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>                  color_discrete_map<span class="op">=</span>{<span class="st">'Male Smoker Deaths'</span>: <span class="st">'blue'</span>, <span class="st">'Female Smoker Deaths'</span>: <span class="st">'red'</span>,</span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>                                      <span class="st">'Male Smoker Survivors'</span>: <span class="st">'blue'</span>, <span class="st">'Female Smoker Survivors'</span>: <span class="st">'red'</span>},</span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>                  title<span class="op">=</span><span class="st">'Male and Female Smoker Counts'</span>)</span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Update layout for better presentation</span></span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a>fig.update_layout(margin<span class="op">=</span><span class="bu">dict</span>(l<span class="op">=</span><span class="dv">0</span>, r<span class="op">=</span><span class="dv">0</span>, b<span class="op">=</span><span class="dv">0</span>, t<span class="op">=</span><span class="dv">40</span>))</span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the chart</span></span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<pre><code>Unable to display output for mime type(s): application/vnd.plotly.v1+json</code></pre>
</div>
</div>
</section>
<section id="mortality-and-survival-diabetes-and-high-blood-pressure-patients" class="level3" data-number="3.4.2">
<h3 data-number="3.4.2" class="anchored" data-anchor-id="mortality-and-survival-diabetes-and-high-blood-pressure-patients"><span class="header-section-number">3.4.2</span> Mortality and Survival Diabetes and High Blood Pressure Patients</h3>
<div class="cell" data-execution_count="29">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Multi variant analysis for patients who have diabetes as well as high blood pressure</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>diabetes_high_bp_deaths<span class="op">=</span> ((df_cleaned[<span class="st">"death_event"</span>] <span class="op">==</span> <span class="dv">1</span>) <span class="op">&amp;</span> (df_cleaned[<span class="st">"diabetes"</span>] <span class="op">==</span> <span class="dv">1</span>) <span class="op">&amp;</span> (df_cleaned[<span class="st">"high_blood_pressure"</span>] <span class="op">==</span> <span class="dv">1</span>)).<span class="bu">sum</span>()</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>diabetes_high_bp_survivors<span class="op">=</span> ((df_cleaned[<span class="st">"death_event"</span>] <span class="op">==</span> <span class="dv">0</span>) <span class="op">&amp;</span> (df_cleaned[<span class="st">"diabetes"</span>] <span class="op">==</span> <span class="dv">1</span>) <span class="op">&amp;</span> (df_cleaned[<span class="st">"high_blood_pressure"</span>] <span class="op">==</span> <span class="dv">1</span>)).<span class="bu">sum</span>()</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>diabetes_high_bp_df <span class="op">=</span> pd.DataFrame({</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Diabetes_High_BP_Deaths'</span>: [diabetes_high_bp_deaths],</span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Diabetes_High_BP_Survivors'</span>: [diabetes_high_bp_survivors]</span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>    })</span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>diabetes_high_bp_df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="29">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Diabetes_High_BP_Deaths</th>
<th data-quarto-table-cell-role="th">Diabetes_High_BP_Survivors</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>17</td>
<td>26</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell" data-execution_count="30">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ploting donut chart for diabetes_high_bp_df </span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>deaths <span class="op">=</span> diabetes_high_bp_df[<span class="st">'Diabetes_High_BP_Deaths'</span>]</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>survivors <span class="op">=</span> diabetes_high_bp_df[<span class="st">'Diabetes_High_BP_Survivors'</span>]</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a donut chart</span></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">8</span>))</span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>ax.pie([deaths.<span class="bu">sum</span>(), survivors.<span class="bu">sum</span>()], labels<span class="op">=</span>[<span class="st">'Deaths'</span>, <span class="st">'Survivors'</span>], autopct<span class="op">=</span><span class="st">'</span><span class="sc">%1.1f%%</span><span class="st">'</span>, startangle<span class="op">=</span><span class="dv">90</span>, wedgeprops<span class="op">=</span><span class="bu">dict</span>(width<span class="op">=</span><span class="fl">0.3</span>))</span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Draw a circle in the center to create a donut chart</span></span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>centre_circle <span class="op">=</span> plt.Circle((<span class="dv">0</span>,<span class="dv">0</span>),<span class="fl">0.70</span>,fc<span class="op">=</span><span class="st">'white'</span>)</span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> plt.gcf()</span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a>fig.gca().add_artist(centre_circle)</span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Equal aspect ratio ensures that the pie is drawn as a circle.</span></span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a>ax.axis(<span class="st">'equal'</span>)  </span>
<span id="cb34-17"><a href="#cb34-17" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Diabetes and High Blood Pressure Counts for Deaths and Survivors'</span>)</span>
<span id="cb34-18"><a href="#cb34-18" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="index_files/figure-html/cell-28-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="31">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>smokers <span class="op">=</span> df_cleaned[df_cleaned[<span class="st">"smoking"</span>]<span class="op">==</span><span class="dv">1</span>]</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>non_smokers <span class="op">=</span> df_cleaned[df_cleaned[<span class="st">"smoking"</span>]<span class="op">==</span><span class="dv">0</span>]</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>survived_smokers <span class="op">=</span> smokers[smokers[<span class="st">"death_event"</span>]<span class="op">==</span><span class="dv">0</span>]</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>survived_nonsmokers <span class="op">=</span> non_smokers[non_smokers[<span class="st">"death_event"</span>]<span class="op">==</span><span class="dv">0</span>]</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>nonsurvived_smokers <span class="op">=</span> smokers[smokers[<span class="st">"death_event"</span>]<span class="op">==</span><span class="dv">1</span>]</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>nonsurvived_nonsmokers <span class="op">=</span> non_smokers[non_smokers[<span class="st">"death_event"</span>]<span class="op">==</span><span class="dv">1</span>]</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>smoking_data <span class="op">=</span> [<span class="bu">len</span>(nonsurvived_smokers), <span class="bu">len</span>(survived_nonsmokers),<span class="bu">len</span>(nonsurvived_nonsmokers),<span class="bu">len</span>(survived_smokers)]</span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>smoking_labels <span class="op">=</span> [<span class="st">"nonsurvived_smokers"</span>, <span class="st">"survived_nonsmokers"</span>, <span class="st">"nonsurvived_nonsmokers"</span>, <span class="st">"survived_smokers"</span>]</span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">9</span>,<span class="dv">9</span>))</span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>plt.pie(smoking_data, labels <span class="op">=</span> smoking_labels, autopct<span class="op">=</span><span class="st">'</span><span class="sc">%.2f%%</span><span class="st">'</span>, startangle<span class="op">=</span><span class="dv">90</span>)</span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Survival Status Dependency On Smoking"</span>, fontsize<span class="op">=</span><span class="dv">22</span>)</span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-17"><a href="#cb35-17" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="index_files/figure-html/cell-29-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="32">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>X<span class="op">=</span>df_cleaned.copy()</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>X.drop(<span class="st">"death_event"</span>, axis <span class="op">=</span> <span class="dv">1</span>, inplace <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>y<span class="op">=</span>df_cleaned[<span class="st">"death_event"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="33">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>X.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="33">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">age</th>
<th data-quarto-table-cell-role="th">anaemia</th>
<th data-quarto-table-cell-role="th">creatinine_phosphokinase</th>
<th data-quarto-table-cell-role="th">diabetes</th>
<th data-quarto-table-cell-role="th">ejection_fraction</th>
<th data-quarto-table-cell-role="th">high_blood_pressure</th>
<th data-quarto-table-cell-role="th">platelets</th>
<th data-quarto-table-cell-role="th">serum_creatinine</th>
<th data-quarto-table-cell-role="th">serum_sodium</th>
<th data-quarto-table-cell-role="th">sex</th>
<th data-quarto-table-cell-role="th">smoking</th>
<th data-quarto-table-cell-role="th">time</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>75.0</td>
<td>0</td>
<td>582</td>
<td>0</td>
<td>20</td>
<td>1</td>
<td>265000.00</td>
<td>1.9</td>
<td>130</td>
<td>1</td>
<td>0</td>
<td>4</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>55.0</td>
<td>0</td>
<td>7861</td>
<td>0</td>
<td>38</td>
<td>0</td>
<td>263358.03</td>
<td>1.1</td>
<td>136</td>
<td>1</td>
<td>0</td>
<td>6</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>65.0</td>
<td>0</td>
<td>146</td>
<td>0</td>
<td>20</td>
<td>0</td>
<td>162000.00</td>
<td>1.3</td>
<td>129</td>
<td>1</td>
<td>1</td>
<td>7</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>50.0</td>
<td>1</td>
<td>111</td>
<td>0</td>
<td>20</td>
<td>0</td>
<td>210000.00</td>
<td>1.9</td>
<td>137</td>
<td>1</td>
<td>0</td>
<td>7</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>65.0</td>
<td>1</td>
<td>160</td>
<td>1</td>
<td>20</td>
<td>0</td>
<td>327000.00</td>
<td>2.7</td>
<td>116</td>
<td>0</td>
<td>0</td>
<td>8</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell" data-execution_count="34">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>y<span class="op">=</span>y.values.reshape(<span class="op">-</span><span class="dv">1</span>,<span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="35">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>y[:<span class="dv">5</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="35">
<pre><code>array([[1],
       [1],
       [1],
       [1],
       [1]])</code></pre>
</div>
</div>
<div class="cell" data-execution_count="37">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Splitting the data</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>X_train, X_test, y_train, y_test<span class="op">=</span>train_test_split(X, y, test_size<span class="op">=</span><span class="fl">0.3</span>, random_state <span class="op">=</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="38">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="bu">len</span>(X_train)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="38">
<pre><code>209</code></pre>
</div>
</div>
<div class="cell" data-execution_count="39">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Data Scaling</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>scaler <span class="op">=</span> StandardScaler()</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>x_train_scaled <span class="op">=</span> scaler.fit_transform(X_train)</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>x_test_scaled <span class="op">=</span> scaler.transform(X_test)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="40">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Accuracy List to store all the accuracy for later comparison</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>accuracy_list<span class="op">=</span>[]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
</section>
<section id="machine-learning" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Machine Learning</h1>
<section id="logistic-regression" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="logistic-regression"><span class="header-section-number">4.1</span> Logistic Regression</h2>
<div class="cell" data-execution_count="41">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>lr_model <span class="op">=</span> LogisticRegression()</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>lr_model.fit(x_train_scaled, y_train)</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>lr_prediction <span class="op">=</span> lr_model.predict(x_test_scaled)</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>lr_accuracy <span class="op">=</span> (<span class="bu">round</span>(accuracy_score(lr_prediction, y_test),<span class="dv">4</span>)<span class="op">*</span><span class="dv">100</span>)</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>accuracy_list.append(lr_accuracy)</span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Logistic Regression Model accuracy = </span><span class="sc">{</span>lr_accuracy<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Logistic Regression Model accuracy = 87.78</code></pre>
</div>
</div>
</section>
<section id="support-vector-machine" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="support-vector-machine"><span class="header-section-number">4.2</span> Support Vector Machine</h2>
<div class="cell" data-execution_count="42">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>svc_model <span class="op">=</span> SVC()</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>svc_model.fit(x_train_scaled, y_train)</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>svc_prediction <span class="op">=</span> svc_model.predict(x_test_scaled)</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>svc_accuracy <span class="op">=</span> (<span class="bu">round</span>(accuracy_score(svc_prediction, y_test), <span class="dv">4</span>) <span class="op">*</span> <span class="dv">100</span>)</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>accuracy_list.append(svc_accuracy)</span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"SVC model Accuracy = </span><span class="sc">{</span>svc_accuracy<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>SVC model Accuracy = 85.56</code></pre>
</div>
</div>
</section>
<section id="knearestneighbor" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="knearestneighbor"><span class="header-section-number">4.3</span> KNearestNeighbor</h2>
<div class="cell" data-execution_count="109">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>knn_list <span class="op">=</span> []</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> k <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">50</span>):</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>    knn_model <span class="op">=</span> KNeighborsClassifier(n_neighbors<span class="op">=</span>k)</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>    knn_model.fit(x_train_scaled, y_train)</span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>    knn_prediction<span class="op">=</span>(knn_model.predict(x_test_scaled))</span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>    knn_accuracy <span class="op">=</span> (<span class="bu">round</span>(accuracy_score(knn_prediction, y_test), <span class="dv">4</span>) <span class="op">*</span> <span class="dv">100</span>)</span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>    knn_list.append(knn_accuracy)</span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a>k <span class="op">=</span> np.arange(<span class="dv">1</span>,<span class="dv">50</span>)</span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a>plt.plot(k, knn_list)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="index_files/figure-html/cell-40-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="44">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>knn_model <span class="op">=</span> KNeighborsClassifier(n_neighbors<span class="op">=</span><span class="dv">6</span>)</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>knn_model.fit(x_train_scaled, y_train)</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>knn_prediction <span class="op">=</span> knn_model.predict(x_test_scaled)</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>knn_accuracy <span class="op">=</span> (<span class="bu">round</span>(accuracy_score(knn_prediction, y_test), <span class="dv">4</span>)<span class="op">*</span><span class="dv">100</span>)</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>accuracy_list.append(knn_accuracy)</span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"KNeighbors model of accuracy = </span><span class="sc">{</span>knn_accuracy<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>KNeighbors model of accuracy = 76.67</code></pre>
</div>
</div>
</section>
<section id="decision-tree-classifier" class="level2" data-number="4.4">
<h2 data-number="4.4" class="anchored" data-anchor-id="decision-tree-classifier"><span class="header-section-number">4.4</span> Decision Tree Classifier</h2>
<div class="cell" data-execution_count="45">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>dt_model <span class="op">=</span> DecisionTreeClassifier(criterion <span class="op">=</span> <span class="st">"entropy"</span>, max_depth <span class="op">=</span> <span class="dv">2</span>)</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>dt_model.fit(x_train_scaled, y_train)</span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>dt_prediction <span class="op">=</span> dt_model.predict(x_test_scaled)</span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>dt_accuracy <span class="op">=</span> (<span class="bu">round</span>(accuracy_score(dt_prediction, y_test), <span class="dv">4</span>) <span class="op">*</span> <span class="dv">100</span>)</span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>accuracy_list.append(dt_accuracy)</span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Decision Tree Classifier Accuracy Score : </span><span class="sc">{</span>dt_accuracy<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Decision Tree Classifier Accuracy Score : 88.89</code></pre>
</div>
</div>
</section>
<section id="random-forest-classifier" class="level2" data-number="4.5">
<h2 data-number="4.5" class="anchored" data-anchor-id="random-forest-classifier"><span class="header-section-number">4.5</span> Random Forest Classifier</h2>
<div class="cell" data-execution_count="46">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>rf_model <span class="op">=</span> RandomForestClassifier()</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>rf_model.fit(x_train_scaled, y_train)</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>rf_prediction <span class="op">=</span> rf_model.predict(x_test_scaled)</span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>rf_accuracy <span class="op">=</span> (<span class="bu">round</span>(accuracy_score(rf_prediction, y_test), <span class="dv">4</span>) <span class="op">*</span> <span class="dv">100</span>)</span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>accuracy_list.append(rf_accuracy)</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Random Forest Classifier Accuracy Score : </span><span class="sc">{</span>rf_accuracy<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Random Forest Classifier Accuracy Score : 91.11</code></pre>
</div>
</div>
<div class="cell" data-execution_count="47">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Logistic Regression Accuracy : </span><span class="sc">{</span>lr_accuracy<span class="sc">}</span><span class="ss">, SVC Accuracy : </span><span class="sc">{</span>svc_accuracy<span class="sc">}</span><span class="ss">, KNearestNeighbors Accuracy : </span><span class="sc">{</span>knn_accuracy<span class="sc">}</span><span class="ss">, Decision Tree Accuracy : </span><span class="sc">{</span>dt_accuracy<span class="sc">}</span><span class="ss">, Random Forest Accuracy : </span><span class="sc">{</span>rf_accuracy<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Logistic Regression Accuracy : 87.78, SVC Accuracy : 85.56, KNearestNeighbors Accuracy : 76.67, Decision Tree Accuracy : 88.89, Random Forest Accuracy : 91.11</code></pre>
</div>
</div>
<div class="cell" data-execution_count="48">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>models <span class="op">=</span> [<span class="st">"Logistic Regression"</span>, <span class="st">"SVC"</span>, <span class="st">"KNearestNeighbors"</span>, <span class="st">"Decision Tree"</span>, <span class="st">"Random Forest"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="73">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">12</span>,<span class="dv">8</span>))</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> plt.bar(models, accuracy_list, color<span class="op">=</span>[<span class="st">"red"</span>, <span class="st">"blue"</span>, <span class="st">"green"</span>, <span class="st">"orange"</span>, <span class="st">"purple"</span>], alpha<span class="op">=</span><span class="fl">0.75</span>)</span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Classifiers"</span>, fontsize <span class="op">=</span> <span class="dv">10</span>)</span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Accuracy"</span>, fontsize <span class="op">=</span> <span class="dv">10</span>)</span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> p <span class="kw">in</span> ax.patches:</span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a>    width <span class="op">=</span> p.get_width()</span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a>    height <span class="op">=</span> p.get_height()</span>
<span id="cb60-8"><a href="#cb60-8" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> p.get_x()</span>
<span id="cb60-9"><a href="#cb60-9" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> p.get_y()</span>
<span id="cb60-10"><a href="#cb60-10" aria-hidden="true" tabindex="-1"></a>    plt.annotate(<span class="ss">f"</span><span class="sc">{</span>height<span class="sc">}</span><span class="ss">%"</span>, (x<span class="op">+</span>width<span class="op">/</span><span class="dv">2</span>, y<span class="op">+</span> height<span class="op">*</span><span class="fl">1.01</span>), ha<span class="op">=</span><span class="st">"center"</span>)</span>
<span id="cb60-11"><a href="#cb60-11" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="index_files/figure-html/cell-46-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="60">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>nn_model<span class="op">=</span>tf.keras.models.Sequential()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="53">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>nn_model.add(tf.keras.layers.Dense(units<span class="op">=</span><span class="dv">6</span>, activation<span class="op">=</span><span class="st">"relu"</span>, input_dim<span class="op">=</span><span class="dv">12</span>))</span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>nn_model.add(tf.keras.layers.Dense(units<span class="op">=</span><span class="dv">6</span>, activation<span class="op">=</span><span class="st">"relu"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="54">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="co">#  Add the output layer that uses a probability activation function</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>nn_model.add(tf.keras.layers.Dense(units<span class="op">=</span><span class="dv">1</span>, activation<span class="op">=</span><span class="st">"sigmoid"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="55">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>nn_model.summary()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Model: "sequential"
_________________________________________________________________
 Layer (type)                Output Shape              Param #   
=================================================================
 dense (Dense)               (None, 6)                 78        
                                                                 
 dense_1 (Dense)             (None, 6)                 42        
                                                                 
 dense_2 (Dense)             (None, 1)                 7         
                                                                 
=================================================================
Total params: 127 (508.00 Byte)
Trainable params: 127 (508.00 Byte)
Non-trainable params: 0 (0.00 Byte)
_________________________________________________________________</code></pre>
</div>
</div>
<div class="cell" data-execution_count="56">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="co"># compile the Sequential model together and customize metrics</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>nn_model.<span class="bu">compile</span>(loss<span class="op">=</span><span class="st">"binary_crossentropy"</span>, optimizer<span class="op">=</span><span class="st">"adam"</span>, metrics<span class="op">=</span>[<span class="st">"accuracy"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="74">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="co">#  Fit the model to the training data</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>fit_model <span class="op">=</span> nn_model.fit(x_train_scaled, y_train, epochs<span class="op">=</span><span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>RuntimeError: You must compile your model before training/testing. Use `model.compile(optimizer, loss)`.</code></pre>
</div>
</div>
<div class="cell" data-execution_count="58">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Evaluate the model using the test data</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>model_loss, model_accuracy <span class="op">=</span> nn_model.evaluate(x_test_scaled,y_test,verbose<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Loss: </span><span class="sc">{</span>model_loss<span class="sc">}</span><span class="ss">, Accuracy: </span><span class="sc">{</span>model_accuracy<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>3/3 - 0s - loss: 0.3630 - accuracy: 0.8444 - 65ms/epoch - 22ms/step
Loss: 0.3629598021507263, Accuracy: 0.8444444537162781</code></pre>
</div>
</div>
</section>
</section>
<section id="acknowledgements" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> Acknowledgements</h1>
<p><strong>Citation</strong></p>
<p>Davide Chicco, Giuseppe Jurman: Machine learning can predict survival of patients with heart failure from serum creatinine and ejection fraction alone. BMC Medical Informatics and Decision Making 20, 16 (2020). <a href="https://bmcmedinformdecismak.biomedcentral.com/articles/10.1186/s12911-020-1023-5">(link)</a></p>
<p><strong>License</strong></p>
<p>CC BY 4.0</p>
<p><strong>Splash icon</strong></p>
<p>Icon by Freepik, available on Flaticon.</p>
<p><strong>Splash banner</strong></p>
<p>Wallpaper by jcomp, available on Freepik.</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>